"use strict";function RNG(t){this.m=2147483648,this.a=1103515245,this.c=12345,this.state=t?t:Math.floor(Math.random()*(this.m-1))}angular.module("app",[]),angular.module("app").controller("RoleController",["$scope",function(t){var e=this;this.started=!1,this.numberOfPlayers=12,this.seed=1023,$.getJSON("scenarios.json",function(o){e.scenarios=o,e.locations=_.map(o,"location"),t.$apply()});var o=function(){for(var t=[],o=0;o<e.numberOfPlayers;o++)if(o===e.spyPlayerIndex)t.push({role:"Spy",location:null});else{var n=e.scenario.roles[(o+e.playerRoleOffset)%e.scenario.roles.length];t.push({role:n,location:e.scenario.location})}return t};this.start=function(){e.started=!0;var t=new RNG(e.seed),n=Math.floor(t.nextFloat()*(e.locations.length-1));e.scenario=e.scenarios[n],e.playerRoleOffset=Math.floor(t.nextFloat()*(e.scenario.roles.length-1)),e.spyPlayerIndex=Math.floor(t.nextFloat()*(e.numberOfPlayers-1)),e.players=o()}}]),RNG.prototype.nextInt=function(){return this.state=(this.a*this.state+this.c)%this.m,this.state},RNG.prototype.nextFloat=function(){return this.nextInt()/(this.m-1)},RNG.prototype.nextRange=function(t,e){var o=e-t,n=this.nextInt()/this.m;return t+Math.floor(n*o)},RNG.prototype.choice=function(t){return t[this.nextRange(0,t.length)]};